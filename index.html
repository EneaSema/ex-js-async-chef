<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- aggiunta libreria Dayjs -->
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
    <!-- fine aggiunta libreria -->

    <title>Il compleanno dello Chef</title>
  </head>
  <body>
    <h1>Il compleanno dello Chef</h1>
    <ul>
      In questo esercizio, utilizzerai
      <b>async/await</b>
      per creare la funzione
      <b>getChefBirthday(id)</b
      >. Questa funzione accetta un
      <b>id</b>
      di una ricetta e deve:
      <hr />
      <li>
        Recuperare la ricetta da <b>https://dummyjson.com/recipes/{id}</b>
      </li>
      <li>Estrarre la proprietÃ  <b>userId</b> dalla ricetta</li>
      <li>
        Usare <b>userId</b> per ottenere le informazioni dello <b>chef</b> da
        <b>https://dummyjson.com/users/{userId}</b>
      </li>
      <li>Restituire la <b>data di nascita</b> dello chef</li>
    </ul>
    <b><h2>Note del docente</h2></b>
    <ul>
      Scrivi la funzione
      <b>getChefBirthday(id)</b
      >, che deve:
      <li>Essere asincrona (<b>async</b>).</li>
      <li>Utilizzare <b>await</b> per chiamare le API.</li>
      <li>Restituire una <b>Promise</b> con la data di nascita dello chef.</li>
      <li>Gestire gli errori con <b>try/catch</b></li>
    </ul>
    <b><h3>Esempio di utilizzo</h3></b>
    <span>
      getChefBirthday(1).then(birthday = console.log("Data di nascita dello
      chef:", birthday)) .catch(error = console.error("Errore:",
      error.message));
    </span>
    <b><h3>Esempio di output atteso</h3></b>
    <p>Data di nascita dello chef: 1990-06-15</p>

    <b><h2>ðŸŽ¯ Bonus 1</h2></b>
    <p>
      Attualmente, se la prima richiesta non trova una ricetta, la seconda
      richiesta potrebbe comunque essere eseguita causando errori a cascata.
      Modifica <b>getChefBirthday(id)</b> per intercettare eventuali errori
      prima di fare la seconda richiesta.
    </p>

    <b><h2>ðŸŽ¯ Bonus 2</h2></b>
    <p>
      Utilizza la libreria <b>dayjs</b> per formattare la data di nascita nel
      formato giorno/mese/anno.
    </p>
    <b><p>Esempio di output atteso con formattazione</p></b>
    <p>Data di nascita dello chef: 15/06/1990</p>
    <script type="module" src="snack4.js"></script>
  </body>
</html>
